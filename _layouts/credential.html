---
layout: default
---

{% assign credential_json = site.data.credentials[page.credential_data] %}

<style>
/* Two-column layout: main content + aside actions */
.credential-page {
  display: grid;
  grid-template-columns: 1fr 260px;
  gap: 2rem;
  align-items: start;
}
.credential-main {
  max-width: 900px;
  margin: 0 auto;
}
.credential-aside {
  background: #fafafa;
  border-radius: 6px;
  padding: 1rem;
  box-shadow: 0 0 0 1px rgba(0,0,0,0.02);
}
.credential-actions a.button {
  display: inline-block;
  background: #0077cc;
  color: #fff;
  padding: 0.5rem 0.8rem;
  border-radius: 4px;
  text-decoration: none;
}
@media (max-width: 880px) {
  .credential-page { grid-template-columns: 1fr; }
  .credential-aside { order: 2; }
}
</style>

<div class="credential-page">
  <main class="credential-main">
    <h1>{{ page.title }}</h1>

    {{ page.content }}

    <div id="json-content" style="margin-top:1.5rem;"></div>
  </main>

  <aside class="credential-aside" aria-label="Actions">
    <strong>Actions</strong>
    <div style="margin-top:.5rem;">
      <a href="#" id="download-json" class="button" download="{{ page.slug }}.json">ðŸ“¥ Download JSON</a>
    </div>
  </aside>
</div>

<!-- embed compact JSON in a script tag to avoid quoting/escaping issues -->
<script type="application/json" id="json-data">
{{ credential_json | jsonify }}
</script>

<!-- pretty-print-json (tiny syntax highlighter for JSON) -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pretty-print-json@1.2.0/dist/pretty-print-json.min.css">
<script src="https://cdn.jsdelivr.net/npm/pretty-print-json@1.2.0/dist/pretty-print-json.min.js"></script>

<script>
(function() {
  try {
    const rawJsonEl = document.getElementById('json-data');
    const raw = JSON.parse(rawJsonEl.textContent || '{}');

    // Pretty HTML with syntax highlighting
    const html = prettyPrintJson.toHtml(raw, { indent: 4, lineNumbers: true  });
    const container = document.getElementById('json-content');
    container.innerHTML = html;

    // Setup download link (prettified)
    const pretty = JSON.stringify(raw, null, 2);
    const downloadLink = document.getElementById('download-json');
    const blob = new Blob([pretty], { type: 'application/json' });
    const url = URL.createObjectURL(blob);
    downloadLink.href = url;
  } catch (err) {
    console.error('Failed to render JSON', err);
    const container = document.getElementById('json-content');
    if (container) container.textContent = 'Error rendering JSON.';
  }
})();
</script>

<!-- embed compact JSON in a script tag to avoid quoting/escaping issues -->
<script type="application/json" id="json-data">
{{ credential_json | jsonify }}
</script>

<!-- pretty-print-json (tiny syntax highlighter for JSON) -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pretty-print-json@1.2.0/dist/pretty-print-json.min.css">
<script src="https://cdn.jsdelivr.net/npm/pretty-print-json@1.2.0/dist/pretty-print-json.min.js"></script>

<script>
(function() {
  try {
    const rawJsonEl = document.getElementById('json-data');
    const raw = JSON.parse(rawJsonEl.textContent || '{}');

    // Pretty HTML with syntax highlighting
    const html = prettyPrintJson.toHtml(raw, { indent: 4, lineNumbers: true  });
    const container = document.getElementById('json-content');
    container.innerHTML = html;

    // Setup download link (prettified)
    const pretty = JSON.stringify(raw, null, 2);
    const downloadLink = document.getElementById('download-json');
    const blob = new Blob([pretty], { type: 'application/json' });
    const url = URL.createObjectURL(blob);
    downloadLink.href = url;
  } catch (err) {
    console.error('Failed to render JSON', err);
    document.getElementById('json-content').textContent = 'Error rendering JSON.';
  }
})();
</script>
